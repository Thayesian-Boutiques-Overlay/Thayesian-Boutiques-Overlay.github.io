const Z=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerpolicy&&(o.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?o.credentials="include":n.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(n){if(n.ep)return;n.ep=!0;const o=r(n);fetch(n.href,o)}};Z();function O(){}function Y(t){return t()}function T(){return Object.create(null)}function x(t){t.forEach(Y)}function G(t){return typeof t=="function"}function H(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let A;function J(t,e){return A||(A=document.createElement("a")),A.href=e,t===A.href}function Q(t){return Object.keys(t).length===0}function g(t,e){t.appendChild(e)}function $(t,e,r){t.insertBefore(e,r||null)}function _(t){t.parentNode.removeChild(t)}function y(t){return document.createElement(t)}function j(t){return document.createTextNode(t)}function S(){return j(" ")}function U(t,e,r,l){return t.addEventListener(e,r,l),()=>t.removeEventListener(e,r,l)}function C(t,e,r){r==null?t.removeAttribute(e):t.getAttribute(e)!==r&&t.setAttribute(e,r)}function V(t){return Array.from(t.childNodes)}function z(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let P;function w(t){P=t}const E=[],B=[],L=[],M=[],W=Promise.resolve();let q=!1;function X(){q||(q=!0,W.then(R))}function K(t){L.push(t)}const I=new Set;let N=0;function R(){const t=P;do{for(;N<E.length;){const e=E[N];N++,w(e),tt(e.$$)}for(w(null),E.length=0,N=0;B.length;)B.pop()();for(let e=0;e<L.length;e+=1){const r=L[e];I.has(r)||(I.add(r),r())}L.length=0}while(E.length);for(;M.length;)M.pop()();q=!1,I.clear(),w(t)}function tt(t){if(t.fragment!==null){t.update(),x(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(K)}}const et=new Set;function nt(t,e){t&&t.i&&(et.delete(t),t.i(e))}function rt(t,e,r,l){const{fragment:n,on_mount:o,on_destroy:i,after_update:c}=t.$$;n&&n.m(e,r),l||K(()=>{const u=o.map(Y).filter(G);i?i.push(...u):x(u),t.$$.on_mount=[]}),c.forEach(K)}function ot(t,e){const r=t.$$;r.fragment!==null&&(x(r.on_destroy),r.fragment&&r.fragment.d(e),r.on_destroy=r.fragment=null,r.ctx=[])}function lt(t,e){t.$$.dirty[0]===-1&&(E.push(t),X(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function st(t,e,r,l,n,o,i,c=[-1]){const u=P;w(t);const s=t.$$={fragment:null,ctx:null,props:o,update:O,not_equal:n,bound:T(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:T(),dirty:c,skip_bound:!1,root:e.target||u.$$.root};i&&i(s.root);let h=!1;if(s.ctx=r?r(t,e.props||{},(f,b,...k)=>{const m=k.length?k[0]:b;return s.ctx&&n(s.ctx[f],s.ctx[f]=m)&&(!s.skip_bound&&s.bound[f]&&s.bound[f](m),h&&lt(t,f)),b}):[],s.update(),h=!0,x(s.before_update),s.fragment=l?l(s.ctx):!1,e.target){if(e.hydrate){const f=V(e.target);s.fragment&&s.fragment.l(f),f.forEach(_)}else s.fragment&&s.fragment.c();e.intro&&nt(t.$$.fragment),rt(t,e.target,e.anchor,e.customElement),R()}w(u)}class it{$destroy(){ot(this,1),this.$destroy=O}$on(e,r){const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(r),()=>{const n=l.indexOf(r);n!==-1&&l.splice(n,1)}}$set(e){this.$$set&&!Q(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ut=t=>({hits:t.hits,region:t.CurrentZoneName,damage:t.damage,duration:parseInt(t.DURATION)});function ct(t){let e,r,l;return{c(){e=y("h3"),e.textContent="Thayesian Boutiques",r=S(),l=y("h4"),l.textContent="Murder Counter",C(e,"class","logo svelte-163u722"),C(l,"class","svelte-163u722")},m(n,o){$(n,e,o),$(n,r,o),$(n,l,o)},p:O,d(n){n&&_(e),n&&_(r),n&&_(l)}}}function ft(t){let e,r;return{c(){e=y("h1"),r=j(t[0]),C(e,"class","kill-count svelte-163u722")},m(l,n){$(l,e,n),g(e,r)},p(l,n){n&1&&z(r,l[0])},d(l){l&&_(e)}}}function at(t){let e,r,l,n,o,i,c,u=t[1]?"End":"Start",s,h,f,b;function k(a,p){return a[1]===!0?ft:ct}let m=k(t),d=m(t);return{c(){e=y("script"),l=S(),n=y("main"),o=y("div"),d.c(),i=S(),c=y("button"),s=j(u),h=j(" Count"),C(e,"type","text/javascript"),J(e.src,r="https://ngld.github.io/OverlayPlugin/assets/shared/common.min.js")||C(e,"src",r),C(o,"class","card")},m(a,p){g(document.head,e),$(a,l,p),$(a,n,p),g(n,o),d.m(o,null),g(o,i),g(o,c),g(c,s),g(c,h),f||(b=[U(e,"load",t[3]),U(c,"click",t[2])],f=!0)},p(a,[p]){m===(m=k(a))&&d?d.p(a,p):(d.d(1),d=m(a),d&&(d.c(),d.m(o,i))),p&2&&u!==(u=a[1]?"End":"Start")&&z(s,u)},i:O,o:O,d(a){_(e),a&&_(l),a&&_(n),d.d(),f=!1,x(b)}}}function dt(t,e,r){var m,d;let l=0,n={},o=0,i=[],c=0,u=!1;const s=()=>{r(1,u=!0)},h=()=>{r(1,u=!1),ut(n.Encounter),l=n.Combatant.YOU.kills,console.log("lastEncounterKillCount",l),i=[],r(0,c=0),n={},o=0},f=l!==((d=(m=n==null?void 0:n.Combatant)==null?void 0:m.YOU)==null?void 0:d.kills)&&i.length===0&&c===0&&Object.keys(n).length===0&&o===0;return[c,u,()=>{u?h():s()},()=>{window&&(window.addOverlayListener("CombatData",a=>{if(n=a,u&&f){const{kills:p}=n.Combatant.YOU,v=parseInt(p);if(v===0||v===o)return;o<v?o=v:o>=v&&(i.push(o),o=v),r(0,c=[-l,o,...i].reduce((D,F)=>D+F,0))}}),window.startOverlayEvents())}]}class mt extends it{constructor(e){super(),st(this,e,dt,at,H,{})}}new mt({target:document.getElementById("app")});
